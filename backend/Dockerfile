#USA UNA IMAGEN OFICIAL DE TOMCAT COMO BASE, CAPAZ DE LEER UN FICHERO WAR, QUE COMPILAREMOS CON INTELLIJ
FROM tomcat:9.0

#ELIMINAREMOS CUALQUIER COSA QUE HAYA EN LA RUTA DEL TOMCAT POR SEGURIDAD ADICIONAL
RUN rm -rf /usr/local/tomcat/webapps/*

#COPIAMOS EL FICHERO WAR A LA RUTA ROOTWAR DE DESPLIEGUE DE TOMCAT 
COPY api/target/Hambeargueseria.war /usr/local/tomcat/webapps/ROOT.war

#PARA QUE DIRECTAMENTE CUANDO ABRA LA IP PUBLICA EXPUESTA EN EL 8080 NOS SALDR√Å NUESTRA PAGINA
EXPOSE 8080

#COMANDO PARA ARRANCAR TOMCAT
CMD ["catalina.sh", "run"]